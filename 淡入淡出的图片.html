<!DOCTYPE html>
<html>
<head>
	<title>淡入淡出的图片</title>
<style type="text/css">
#div1{width: 200px;height: 200px;background: red;filter:alpha(opacity:30);opacity: 0.3}
</style>
<script type="text/javascript">
window.onload=function () {
	var oDiv=document.getElementById('div1');
	oDiv.onmouseover=function () {
		startMove (100);
	}
	oDiv.onmouseout=function () {
		startMove (30);
	}
}
var alpha=30;
var timer=null;
	function startMove (iTarget) {
		var oDiv=document.getElementById('div1');

		clearInterval(timer);//关闭之前的定时器，保证只有一个定时器，保证点击多次也能匀速
		timer=setInterval(function () {
			var speed=0;
			if (alpha<iTarget) {
				speed=10;
			} 
			else{
				speed=-10;
			};	
			if (alpha==iTarget) {
				clearInterval(timer);
			} 
			else{
				alpha+=speed;
				oDiv.style.filter='alpha(opacity:'+alpha+')';
				oDiv.style.opacity=alpha/100;
			};	
		},30);
	}
</script>

</head>
<body>
<div id="div1"></div>
</body>
</html>