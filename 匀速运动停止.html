<!DOCTYPE html>
<html>
<head>
	<title>匀速运动停止</title>
<style>
#div1{width: 100px;height: 100px;background: red;left: 0;top: 50px;position: absolute;}
#div2{width: 1px;height: 500px;background: black;left: 300px;position: absolute;}
#div3{width: 1px;height: 500px;background: black;left: 100px;position: absolute;}
</style>
<script type="text/javascript">
// window.onload=function () {
// 	var oDiv=document.getElementById('div1');
// 	oDiv.onmouseover=function () {
// 		startMove (300);
// 	}
// 	oDiv.onmouseout=function () {
// 		startMove (0);
// 	}
// }
var timer=null;
	function startMove (iTarget) {
		var oDiv=document.getElementById('div1');
		var oTxt=document.getElementById('dis');

		clearInterval(timer);//关闭之前的定时器，保证只有一个定时器，保证点击多次也能匀速
		timer=setInterval(function () {
			var speed=0;
			if (iTarget-oDiv.offsetLeft>0) {
				speed=7;
			}
			else{
				speed=-7;
			};
			if (Math.abs(iTarget-oDiv.offsetLeft)<=7) {
				clearInterval(timer);
				oDiv.style.left=iTarget+'px';//匀速运动的停止条件
			}
			else{
				oDiv.style.left=oDiv.offsetLeft+speed+'px';
			};
				oTxt.value=oDiv.style.left+','+speed;
		},30);
	}
</script>

</head>
<body>
<input type="button" value="到300" onclick="startMove(300)">
<input type="button" value="到100" onclick="startMove(100)">
<input id="dis" type="txt" value="">
<div id="div1"></div>
<div id="div2"></div>
<div id="div3"></div>
</body>
</html>